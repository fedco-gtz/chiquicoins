<body class="bodyRegistrarse">
    <header class="headerRegistrarse">
        <a class="anclaLogo" href="/">
            <i class="fas fa-coins" aria-hidden="true"></i>
            <span>CHIQUI COINS</span>
        </a>

        <main id="main" class="main">
            <section data-aos="zoom-in" data-aos-duration="1000" class="seccionRegistrarse">
                <form class="formRegistro" action="/register" method="post">
                    <h2 class="tituloRegistrarse">Registro</h2>
                    <div>
                        <input type="text" placeholder="Nombre" id="nombre" name="nombre" required>
                        <div class="error-text"></div>
                    </div>
                    <div>
                        <input type="text" placeholder="Apellido" id="apellido" name="apellido" required>
                        <div class="error-text"></div>
                    </div>
                    <div>
                        <input type="email" placeholder="Email" id="email" name="email" required>
                        <div class="error-text"></div>
                    </div>
                    <div>
                        <input type="password" placeholder="Contraseña" id="password" name="password" required>
                        <div class="error-text"></div>
                    </div>
                    <div>
                        <select name="colegio" id="colegio" required>
                            <option value="Thomas Jefferson">Thomas Jefferson</option>
                            <option value="Sarmiento">Sarmiento</option>
                        </select>
                        <div class="error-text"></div>
                    </div>
                    <div>
                        <select name="curso" id="curso" required>
                            <option value="1">Primero</option>
                            <option value="2">Segundo</option>
                            <option value="3">Tercero</option>
                            <option value="4">Cuarto</option>
                            <option value="5">Quinto</option>
                            <option value="6">Sexto</option>
                        </select>
                        <div class="error-text"></div>
                    </div>
                    <div>
                        <input class="botonRegistro" type="submit" value="Registrarse">
                    </div>
                    <div id="error-message" class="error-message" style="display: none;"></div>
                </form>
            </section>
        </main>
        <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
        <script>
            AOS.init();
        </script>
        <script src="../../public/js/registrationValidation.js"></script>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
    const error = '{{error}}';
    const errorMessageDiv = document.getElementById('error-message');

    if (error && errorMessageDiv) {
        errorMessageDiv.textContent = error;
        errorMessageDiv.style.display = 'block';
        setTimeout(() => {
            errorMessageDiv.style.display = 'none';
        }, 3000);
    }

    const form = document.querySelector('form');
    const nombre = document.getElementById('nombre');
    const apellido = document.getElementById('apellido');
    const email = document.getElementById('email');
    const password = document.getElementById('password');
    const errorTexts = document.querySelectorAll('.error-text');

    form.addEventListener('submit', function (event) {
        errorTexts.forEach(errorText => errorText.textContent = '');
        let hasError = false;

        if (nombre.value.trim() === '') {
            nombre.nextElementSibling.textContent = 'El nombre es obligatorio';
            hasError = true;
        }
        if (apellido.value.trim() === '') {
            apellido.nextElementSibling.textContent = 'El apellido es obligatorio';
            hasError = true;
        }
        if (!validateEmail(email.value)) {
            email.nextElementSibling.textContent = 'El email no es válido';
            hasError = true;
        }
        if (password.value.length < 6) {
            password.nextElementSibling.textContent = 'La contraseña debe tener al menos 6 caracteres';
            hasError = true;
        }

        if (hasError) {
            event.preventDefault();
        }
    });

    function validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
    }
});
        </script>
</body>